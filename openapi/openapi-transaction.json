{"openapi":"3.1.0","info":{"title":"Transaction API","description":"An API to manage transactions.","version":"1.0.0"},"paths":{"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ping-db":{"get":{"summary":"Ping Db","description":"Health check endpoint for database","operationId":"ping_db_ping_db_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/transactions/transaction":{"post":{"summary":"Create Transaction","operationId":"create_transaction_transactions_transaction_post","parameters":[{"name":"X-Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Idempotency-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewTransactionRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transactions/{transaction_id}":{"get":{"summary":"Get Transaction","operationId":"get_transaction_transactions__transaction_id__get","parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Transaction","operationId":"update_transaction_transactions__transaction_id__put","parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","title":"Transaction Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStatusRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Transaction","operationId":"delete_transaction_transactions__transaction_id__delete","parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transactions":{"get":{"summary":"List Transactions","operationId":"list_transactions_transactions_get","parameters":[{"name":"status_param","in":"query","required":false,"schema":{"anyOf":[{"enum":["pending","accepted","rejected","canceled","completed"],"type":"string"},{"type":"null"}],"title":"Status Param"}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"enum":["trade","purchase"],"type":"string"},{"type":"null"}],"title":"Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"},"title":"Response List Transactions Transactions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"NewTransactionRequest":{"properties":{"type":{"type":"string","enum":["trade","purchase"],"title":"Type","description":"Transaction type.","example":"trade"},"offered_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Offered Price","description":"Optional offered price when type is purchase.","example":25.5},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Optional initial message.","example":"Can we meet this weekend?"},"status":{"type":"string","enum":["pending","accepted","rejected","canceled","completed"],"title":"Status","description":"Initial status for the transaction.","default":"pending","example":"pending"}},"type":"object","required":["type"],"title":"NewTransactionRequest"},"Transaction":{"properties":{"transaction_id":{"type":"string","title":"Transaction Id","description":"The unique identifier for the transaction (UUID).","example":"550e8400-e29b-41d4-a716-446655440000"},"type":{"type":"string","enum":["trade","purchase"],"title":"Type","description":"The transaction type.","example":"trade"},"offered_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Offered Price","description":"Optional offered price when type is purchase.","example":25.5},"status":{"type":"string","enum":["pending","accepted","rejected","canceled","completed"],"title":"Status","description":"The current status of the transaction.","example":"pending"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Optional message attached to the transaction.","example":"Can we meet this weekend?"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The timestamp when the transaction was created.","example":"2023-01-01T00:00:00"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The timestamp when the transaction was last updated.","example":"2023-01-01T00:00:00"}},"type":"object","required":["transaction_id","type","status","created_at","updated_at"],"title":"Transaction"},"UpdateStatusRequest":{"properties":{"status":{"type":"string","enum":["accepted","rejected","canceled","completed"],"title":"Status","description":"New status"}},"type":"object","required":["status"],"title":"UpdateStatusRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}